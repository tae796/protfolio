<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="review">


	<!-- 계약서작성 후기 본문 등록 type : 1-->
	<insert id="contrast_insert">
		insert into smile_review values (null, 1,#{title},#{writer},now(),#{text},#{image},#{center},#{team})
	</insert>

	<!-- 차량출고 후기 본문 등록 type : 2 -->
	<insert id="car_insert">
		insert into smile_review values (null, 2,#{title},#{writer},now(),#{text},#{image},#{center},#{team})
	</insert>
	
	<!-- 장기렌트 & 리스 정보 본문 등록 type : 3 -->
	<insert id="info_insert">
		insert into smile_review values (null, 3,#{title},#{writer},now(),#{text},#{image},#{center},#{team})
	</insert>
	
	
	<select id="c_selectcount1" resultType="int">
		select count(*) from smile_review where type = 1
	</select>

	<select id="c_selectcount2" resultType="int">
		select count(*) from smile_review where type = 2
	</select>
	
	<select id="c_selectcount3" resultType="int">
		select count(*) from smile_review where type = 3
	</select>



	<!-- 계약서작성 보기 -->
	<select id="contrast_select" resultType="pokas.web.dto.ReviewDTO">
		select * from smile_review where type = 1 order by id desc limit #{start},#{end}
	</select>
	
	
	<!-- 차량출고 보기 -->
	<select id="car_select" resultType="pokas.web.dto.ReviewDTO">
		select * from smile_review where type = 2 order by id desc limit #{start},#{end}
	</select>
	
	<!-- 장기렌트 & 리스 정보 보기 -->
	<select id="info_select" resultType="pokas.web.dto.ReviewDTO">
		select * from smile_review where type = 3 order by id desc limit #{start},#{end}
	</select>


	<!-- 계약서작성 내용 보기 -->
	<select id="contrast_select_one" resultType="pokas.web.dto.ReviewDTO">
		select * from smile_review where type = 1 and id=#{id}
	</select>
	
	<!-- 차량출고 내용 보기 -->
	<select id="car_select_one" resultType="pokas.web.dto.ReviewDTO">
		select * from smile_review where type = 2 and id=#{id}
	</select>
	
	<!-- 장기렌트 & 리스 정보 내용 보기 -->
	<select id="info_select_one" resultType="pokas.web.dto.ReviewDTO">
		select * from smile_review where type = 3 and id=#{id}
	</select>

	<!-- 내용 보기 -->
	<select id="select_one" resultType="pokas.web.dto.ReviewDTO">
		select * from smile_review where id=#{id}
	</select>
	

	<!-- 계약서작성 본문 수정 -->
	<update id="r_update" parameterType="pokas.web.dto.ReviewDTO">
		update smile_review set title = #{title}, text = #{text}, writer=#{writer}, image = #{image} where id = #{id}
	</update>
	
	<!-- 삭제 -->
	<delete id="r_delete">
		delete from smile_review where id = #{id}
	</delete>	
	

	
</mapper>